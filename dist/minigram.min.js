/*! minigram v0.0.2 | (c) 2016 Pedro Rogerio | https://github.com/pinceladasdaweb/minigram */
!function(t,e){"use strict";"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():t.Minigram=e()}(this,function(){"use strict";var t=function(e,n){return this&&this instanceof t?n?(this.endpoint="https://api.instagram.com/v1/users/",this.container="Node"===e.constructor.name?e:document.querySelector(e),this.counter=n.counter||10,this.resolution=n.resolution||"thumb",this.token=n.token,this.html=n.html,this.success=n.success||void 0,void this.fetch()):void console.log("%c Missing options","background: red; color: white"):new t(e,n)};return t.prototype={fetch:function(){if("String"!==this.token.constructor.name)return void console.log("%c Provide a valid token","background: red; color: white");var t=this.token.split(".")[0];this.getPhotos(t)},jsonp:function(t,e,n){var o,i,s,r;o="jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),i=document.head||document.getElementsByTagName("head")[0],r=document.createElement("script"),r.type="text/javascript",s=r.cloneNode(),s.src=t+(t.indexOf("?")>=0?"&":"?")+"callback="+o,s.async=!0,i.appendChild(s),window[o]=function(t){e.call(n||window,t),i.removeChild(s),s=null,delete this.name}.bind(this)},template:function(t,e){var n;for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t=t.replace(new RegExp("{"+n+"}","g"),e[n]));return t},each:function(t,e){var n,o;for(n=0,o=t.length;o>n;n+=1)e(t[n],n,t)},getObjectProperty:function(t,e){var n,o;for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(o=t[e]);return o},getPhotos:function(t){var e;this.jsonp(this.endpoint+t+"/media/recent?access_token="+this.token+"&count="+this.counter,function(t){e=t.meta.code,200===e?(this.each(t.data,function(e,n){t={caption:e.caption?e.caption.text:"",url:e.link,type:e.type,likes:e.likes.count,filter:e.filter,image:{thumb:e.images.thumbnail.url,low:e.images.low_resolution.url,standard:e.images.standard_resolution.url}},this.attach(t)}.bind(this)),"function"==typeof this.success&&this.success.call()):console.warn("Minigram: "+t.meta.error_message)}.bind(this))},attach:function(t){var e;e=this.template(this.html,{caption:t.caption,url:t.url,type:t.type,likes:t.likes,filter:t.filter,image:this.getObjectProperty(t.image,this.resolution)}),this.container.insertAdjacentHTML("beforeend",e)}},t});